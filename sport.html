<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>sport</title>
<link rel="stylesheet" href="css/base.css">
<style>
	body{background:url(img/js/back.png) no-repeat;background-size:100%;}
	.back{position:absolute; top:40px; left:80px;}
	#btn{width:70px;height:34px;border-radius:10px;background:#83c2e1;color:#fff;text-align:center;line-height:34px; font-size:22px;font-family: 微软雅黑;margin-top:40px;margin-left:150px;cursor:pointer;}
	#ul1{width:400px;height:400px;margin:40px auto;}
	#ul1 li{margin:10px;float:left;}
</style>
<script src="js/move8.js"></script>
<script>
	window.onload=function(){
		;(function(){
			var oBtn=document.getElementById('btn');
			var oUl=document.getElementById('ul1');
			var aLi=oUl.children;
			var aImg=oUl.getElementsByTagName('img');
			var pos=[];
			for(var i=0;i<aLi.length;i++){
				pos[i]={left:aLi[i].offsetLeft,top:aLi[i].offsetTop};
			};
			for(var i=0;i<aLi.length;i++){
				aLi[i].style.position='absolute';
				aLi[i].style.left=pos[i].left+'px';
				aLi[i].style.top=pos[i].top+'px';
				aLi[i].style.margin=0;
			};
			var timer=null;
			oBtn.onclick=function(){
				var n=-1;
				clearInterval(timer);
				timer=setInterval(function(){
					n++;
					for(var i=0;i<aLi.length;i++){
						//oUl.style.position='static';
						(function(index){
							move(aLi[n],{left:150,top:40,width:0,height:0,opacity:0},{duration:1000,
							complete:function(){
									if(index==aLi.length-1){
										var k=aLi.length-1;
										//放
										timer=setInterval(function(){
											/*aLi[k].style.background='rgb('+parseInt(Math.random()*256)+','+parseInt(Math.random()*256)+','+parseInt(Math.random()*256)+')';*/
											/*
											for(var i = 0;i<aImg.length;i++){
												aImg[i].src='img/js/port3.png';
											}
											*/
											move(aLi[k],{left:pos[k].left,top:pos[k].top,opacity:1,width:100,height:100});
											k--;
											//console.log(k)
											if(k==-1){
												clearInterval(timer);
											}
										},50);
									}
								}
							})
						})(n)
						if(n==aLi.length-1){
							clearInterval(timer);
						}
					};	
				},50)
			};			
		})();

	};
</script>
</head>

<body>
<a href="skill2.html" class="back"><img src="img/js/page3.png" alt="" /></a>
<div id="btn">click</div>
<ul id="ul1">
	<li><img src="img/js/port1.png"></li>
    <li><img src="img/js/port2.png"></li>
    <li><img src="img/js/port3.png"></li>
    <li><img src="img/js/port4.png"></li>
    <li><img src="img/js/port5.png"></li>
    <li><img src="img/js/port6.png"></li>
    <li><img src="img/js/port7.png"></li>
    <li><img src="img/js/port8.png"></li>
    <li><img src="img/js/port9.png"></li>
</ul>
</body>
</html>
